---
title: Neues in WPF Version 4.5
titleSuffix: ''
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Presentation Foundation [WPF], what's new
- WPF [WPF], what's new
ms.assetid: db086ae4-70bb-4862-95db-2eaca5216bc3
ms.openlocfilehash: e6511e298201202c9f2917af8bcf5f3832dd0149
ms.sourcegitcommit: 9f6df084c53a3da0ea657ed0d708a72213683084
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/09/2020
ms.locfileid: "96972425"
---
# <a name="whats-new-in-wpf-version-45"></a><span data-ttu-id="3b326-102">Neues in WPF Version 4.5</span><span class="sxs-lookup"><span data-stu-id="3b326-102">What's New in WPF Version 4.5</span></span>
<a name="introduction"></a> <span data-ttu-id="3b326-103">Dieses Thema enthält Informationen zu neuen und verbesserten Features in [!INCLUDE[TLA#tla_winclient](../../../includes/tlasharptla-winclient-md.md)] Version 4,5.</span><span class="sxs-lookup"><span data-stu-id="3b326-103">This topic contains information about new and enhanced features in [!INCLUDE[TLA#tla_winclient](../../../includes/tlasharptla-winclient-md.md)] version 4.5.</span></span>  
  
 <span data-ttu-id="3b326-104">Dieses Thema enthält folgende Abschnitte:</span><span class="sxs-lookup"><span data-stu-id="3b326-104">This topic contains the following sections:</span></span>  
  
- [<span data-ttu-id="3b326-105">Menübandsteuerung</span><span class="sxs-lookup"><span data-stu-id="3b326-105">Ribbon control</span></span>](#ribbon_control)  
  
- [<span data-ttu-id="3b326-106">Verbesserte Leistung bei der Anzeige großer Mengen gruppierter Daten</span><span class="sxs-lookup"><span data-stu-id="3b326-106">Improved performance when displaying large sets of grouped data</span></span>](#grouped_virtualization)  
  
- [<span data-ttu-id="3b326-107">Neue Funktionen für das VirtualizingPanel</span><span class="sxs-lookup"><span data-stu-id="3b326-107">New features for the VirtualizingPanel</span></span>](#VirtualizingPanel)  
  
- [<span data-ttu-id="3b326-108">Bindung an statische Eigenschaften</span><span class="sxs-lookup"><span data-stu-id="3b326-108">Binding to static properties</span></span>](#static_properties)  
  
- [<span data-ttu-id="3b326-109">Zugriff auf Auflistungen in Nicht-UI-Threads</span><span class="sxs-lookup"><span data-stu-id="3b326-109">Accessing collections on non-UI Threads</span></span>](#xthread_access)  
  
- [<span data-ttu-id="3b326-110">Synchrone und asynchrone Überprüfung von Daten</span><span class="sxs-lookup"><span data-stu-id="3b326-110">Synchronously and Asynchronously validating data</span></span>](#INotifyDataErrorInfo)  
  
- [<span data-ttu-id="3b326-111">Automatische Aktualisierung der Quelle einer Datenbindung</span><span class="sxs-lookup"><span data-stu-id="3b326-111">Automatically updating the source of a data binding</span></span>](#delay)  
  
- [<span data-ttu-id="3b326-112">Bindung an Typen, die ICustomTypeProvider implementieren</span><span class="sxs-lookup"><span data-stu-id="3b326-112">Binding to types that Implement ICustomTypeProvider</span></span>](#ICustomTypeProvider)  
  
- [<span data-ttu-id="3b326-113">Abrufen von Datenbindungsinformationen aus einem Bindungsausdruck</span><span class="sxs-lookup"><span data-stu-id="3b326-113">Retrieving data binding information from a binding expression</span></span>](#binding_state)  
  
- [<span data-ttu-id="3b326-114">Prüfen auf ein gültiges DataContext-Objekt</span><span class="sxs-lookup"><span data-stu-id="3b326-114">Checking for a valid DataContext object</span></span>](#DisconnectedSource)  
  
- [<span data-ttu-id="3b326-115">Neupositionierung von Daten bei Wertänderung (Live-Strukturierung)</span><span class="sxs-lookup"><span data-stu-id="3b326-115">Repositioning data as the data's values change (Live shaping)</span></span>](#live_shaping)  
  
- [<span data-ttu-id="3b326-116">Verbesserte Unterstützung für die Einrichtung eines schwachen Verweises auf ein Ereignis</span><span class="sxs-lookup"><span data-stu-id="3b326-116">Improved Support for Establishing a Weak Reference to an Event</span></span>](#weak_event_pattern)  
  
- [<span data-ttu-id="3b326-117">Neue Methoden für die Verteilerklasse</span><span class="sxs-lookup"><span data-stu-id="3b326-117">New methods for the Dispatcher class</span></span>](#async)  
  
- [<span data-ttu-id="3b326-118">Markuperweiterungen für Ereignisse</span><span class="sxs-lookup"><span data-stu-id="3b326-118">Markup Extensions for Events</span></span>](#events_markup_extenions)  
  
<a name="ribbon_control"></a>
## <a name="ribbon-control"></a><span data-ttu-id="3b326-119">Menübandsteuerung</span><span class="sxs-lookup"><span data-stu-id="3b326-119">Ribbon control</span></span>  
 <span data-ttu-id="3b326-120">WPF 4.5 wird mit einer <xref:System.Windows.Controls.Ribbon.Ribbon>-Steuerung ausgeliefert, die eine Symbolleiste für den Schnellzugriff, ein Anwendungsmenü und Registerkarten hostet.</span><span class="sxs-lookup"><span data-stu-id="3b326-120">WPF 4.5 ships with a <xref:System.Windows.Controls.Ribbon.Ribbon> control that hosts a Quick Access Toolbar, Application Menu, and tabs.</span></span>  <span data-ttu-id="3b326-121">Weitere Informationen finden Sie unter [Übersicht über die Multifunktionsleiste](/visualstudio/vsto/ribbon-overview).</span><span class="sxs-lookup"><span data-stu-id="3b326-121">For more information, see the [Ribbon Overview](/visualstudio/vsto/ribbon-overview).</span></span>  
  
<a name="grouped_virtualization"></a>
## <a name="improved-performance-when-displaying-large-sets-of-grouped-data"></a><span data-ttu-id="3b326-122">Verbesserte Leistung bei der Anzeige großer Mengen gruppierter Daten</span><span class="sxs-lookup"><span data-stu-id="3b326-122">Improved performance when displaying large sets of grouped data</span></span>  
 <span data-ttu-id="3b326-123">UI-Virtualisierung liegt vor, wenn eine Teilmenge von UI-Elementen aus einer größeren Anzahl von Datenelementen generiert wird, wobei berücksichtigt wird, welche Elemente auf dem Bildschirm angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="3b326-123">UI virtualization occurs when  a subset of user interface (UI) elements are generated from a larger number of data items based on which items are visible on the screen.</span></span> <span data-ttu-id="3b326-124">Das <xref:System.Windows.Controls.VirtualizingPanel> definiert die angefügte <xref:System.Windows.Controls.VirtualizingPanel.IsVirtualizingWhenGrouping%2A>-Eigenschaft, die die UI-Virtualisierung für gruppierte Daten ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="3b326-124">The <xref:System.Windows.Controls.VirtualizingPanel> defines the <xref:System.Windows.Controls.VirtualizingPanel.IsVirtualizingWhenGrouping%2A> attached property that enables UI Virtualization for grouped data.</span></span>  <span data-ttu-id="3b326-125">Weitere Informationen zum Gruppieren von Daten finden Sie in der Anleitung zum Sortieren und Gruppieren von Daten mit einer Ansicht in XAML.</span><span class="sxs-lookup"><span data-stu-id="3b326-125">For more information about grouping data, see How to: Sort and Group Data Using a View in XAML.</span></span>  <span data-ttu-id="3b326-126">Weitere Informationen zum Virtualisieren von gruppierten Daten finden Sie in der angefügten Eigenschaft <xref:System.Windows.Controls.VirtualizingPanel.IsVirtualizingWhenGrouping%2A>.</span><span class="sxs-lookup"><span data-stu-id="3b326-126">For more information about virtualizing grouped data, see the <xref:System.Windows.Controls.VirtualizingPanel.IsVirtualizingWhenGrouping%2A> attached property.</span></span>  
  
<a name="VirtualizingPanel"></a>
## <a name="new-features-for-the-virtualizingpanel"></a><span data-ttu-id="3b326-127">Neue Funktionen für das VirtualizingPanel</span><span class="sxs-lookup"><span data-stu-id="3b326-127">New features for the VirtualizingPanel</span></span>  
  
1. <span data-ttu-id="3b326-128">Sie können angeben, ob ein <xref:System.Windows.Controls.VirtualizingPanel> wie z. B. das <xref:System.Windows.Controls.VirtualizingStackPanel> abgeschnittene Elemente anzeigt; dazu dient die angefügte <xref:System.Windows.Controls.VirtualizingPanel.ScrollUnit%2A>-Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="3b326-128">You can specify whether a <xref:System.Windows.Controls.VirtualizingPanel>, such as the <xref:System.Windows.Controls.VirtualizingStackPanel>, displays partial items by using the <xref:System.Windows.Controls.VirtualizingPanel.ScrollUnit%2A> attached property.</span></span> <span data-ttu-id="3b326-129">Wenn <xref:System.Windows.Controls.VirtualizingPanel.ScrollUnit%2A> auf <xref:System.Windows.Controls.ScrollUnit.Item> festgelegt ist, zeigt das <xref:System.Windows.Controls.VirtualizingPanel> nur Elemente an, die vollständig sichtbar sind.</span><span class="sxs-lookup"><span data-stu-id="3b326-129">If <xref:System.Windows.Controls.VirtualizingPanel.ScrollUnit%2A> is set to <xref:System.Windows.Controls.ScrollUnit.Item>, the <xref:System.Windows.Controls.VirtualizingPanel> will only display items that are completely visible.</span></span> <span data-ttu-id="3b326-130">Wenn <xref:System.Windows.Controls.VirtualizingPanel.ScrollUnit%2A> auf <xref:System.Windows.Controls.ScrollUnit.Pixel> festgelegt ist, kann das <xref:System.Windows.Controls.VirtualizingPanel> teilweise sichtbare Elemente anzeigen.</span><span class="sxs-lookup"><span data-stu-id="3b326-130">If <xref:System.Windows.Controls.VirtualizingPanel.ScrollUnit%2A> is set to <xref:System.Windows.Controls.ScrollUnit.Pixel>, the <xref:System.Windows.Controls.VirtualizingPanel> can display partially visible items.</span></span>  
  
2. <span data-ttu-id="3b326-131">Sie können die Größe des Cache vor und nach dem Viewport während der Virtualisierung durch das <xref:System.Windows.Controls.VirtualizingPanel> angeben; dazu dient die angefügte <xref:System.Windows.Controls.VirtualizingPanel.CacheLength%2A>-Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="3b326-131">You can specify the  size of the cache before and after the viewport when the <xref:System.Windows.Controls.VirtualizingPanel> is virtualizing by using the <xref:System.Windows.Controls.VirtualizingPanel.CacheLength%2A> attached property.</span></span>  <span data-ttu-id="3b326-132">Der Cache ist der Platz über bzw. unter dem Viewport, in dem keine Elemente virtualisiert werden.</span><span class="sxs-lookup"><span data-stu-id="3b326-132">The cache is the amount of space above or below the viewport in which items are not virtualized.</span></span>  <span data-ttu-id="3b326-133">Wenn Sie mit einem Cache die Erstellung von UI-Elementen unterdrücken, während sie in die Ansicht rücken, kann dadurch die Leistung verbessert werden.</span><span class="sxs-lookup"><span data-stu-id="3b326-133">Using a cache to avoid generating UI elements as they’re scrolled into view can improve performance.</span></span> <span data-ttu-id="3b326-134">Der Cache hat beim Auffüllen geringere Priorität; dadurch wird vermieden, dass die Anwendung während des Vorgangs nicht mehr reagiert.</span><span class="sxs-lookup"><span data-stu-id="3b326-134">The cache is populated at a lower priority so that the application does not become unresponsive during the operation.</span></span> <span data-ttu-id="3b326-135">Die <xref:System.Windows.Controls.VirtualizingPanel.CacheLengthUnit%2A?displayProperty=nameWithType>-Eigenschaft legt die von <xref:System.Windows.Controls.VirtualizingPanel.CacheLength%2A?displayProperty=nameWithType> verwendete Maßeinheit fest.</span><span class="sxs-lookup"><span data-stu-id="3b326-135">The <xref:System.Windows.Controls.VirtualizingPanel.CacheLengthUnit%2A?displayProperty=nameWithType> property determines the unit of measurement that is used by <xref:System.Windows.Controls.VirtualizingPanel.CacheLength%2A?displayProperty=nameWithType>.</span></span>  
  
<a name="static_properties"></a>
## <a name="binding-to-static-properties"></a><span data-ttu-id="3b326-136">Bindung an statische Eigenschaften</span><span class="sxs-lookup"><span data-stu-id="3b326-136">Binding to static properties</span></span>  
 <span data-ttu-id="3b326-137">Sie können statische Eigenschaften als Quelle einer Datenbindung verwenden.</span><span class="sxs-lookup"><span data-stu-id="3b326-137">You can use static properties as the source of a data binding.</span></span> <span data-ttu-id="3b326-138">Die Datenbindungs-Engine erkennt es, wenn sich der Eigenschaftswert ändert, falls ein statisches Ereignis ausgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="3b326-138">The data binding engine recognizes when the property's value changes if a static event is raised.</span></span>  <span data-ttu-id="3b326-139">Wenn beispielsweise die `SomeClass`-Klasse eine statische Eigenschaft namens `MyProperty` definiert, kann `SomeClass` ein statisches Ereignis definieren, das ausgelöst wird, wenn sich der Wert von `MyProperty` ändert.</span><span class="sxs-lookup"><span data-stu-id="3b326-139">For example, if the class `SomeClass` defines a static property called `MyProperty`, `SomeClass` can define a static event that is raised when the value of `MyProperty` changes.</span></span>  <span data-ttu-id="3b326-140">Das statische Ereignis kann eine der folgenden Signaturen verwenden.</span><span class="sxs-lookup"><span data-stu-id="3b326-140">The static event can use either of the following signatures.</span></span>  
  
- `public static event EventHandler MyPropertyChanged;`  
  
- `public static event EventHandler<PropertyChangedEventArgs> StaticPropertyChanged;`  
  
 <span data-ttu-id="3b326-141">Beachten Sie, dass die-Klasse im ersten Fall ein statisches Ereignis namens *propertyName* verfügbar macht `Changed` , das <xref:System.EventArgs> an den-Ereignishandler übergibt.</span><span class="sxs-lookup"><span data-stu-id="3b326-141">Note that in the first case, the class exposes a static event named *PropertyName*`Changed` that passes <xref:System.EventArgs> to the event handler.</span></span>  <span data-ttu-id="3b326-142">Im zweiten Fall macht die Klasse ein statisches Ereignis namens `StaticPropertyChanged` verfügbar, das den <xref:System.ComponentModel.PropertyChangedEventArgs>-Ereignishandler übergibt.</span><span class="sxs-lookup"><span data-stu-id="3b326-142">In the second case, the class exposes a static event named `StaticPropertyChanged` that passes <xref:System.ComponentModel.PropertyChangedEventArgs> to the event handler.</span></span> <span data-ttu-id="3b326-143">Eine Klasse, die die statische Eigenschaft implementiert, kann Benachrichtigungen über Eigenschaftsänderungen nach Wahl mit einer der beiden Methode auslösen.</span><span class="sxs-lookup"><span data-stu-id="3b326-143">A class that implements the static property can choose to raise property-change notifications using either method.</span></span>  
  
<a name="xthread_access"></a>
## <a name="accessing-collections-on-non-ui-threads"></a><span data-ttu-id="3b326-144">Zugriff auf Auflistungen in Nicht-UI-Threads</span><span class="sxs-lookup"><span data-stu-id="3b326-144">Accessing collections on non-UI Threads</span></span>  
 <span data-ttu-id="3b326-145">Mit WPF können Sie auf Datensammlungen auf anderen Threads als dem, der die Auflistung erstellt hat, zugreifen und diese ändern.</span><span class="sxs-lookup"><span data-stu-id="3b326-145">WPF enables you to access and modify data collections on threads other than the one that created the collection.</span></span>  <span data-ttu-id="3b326-146">Dadurch können Sie mit einem Hintergrundthread Daten aus einer externen Quelle, z. B. aus einer Datenbank, empfangen und die Daten im UI-Thread anzeigen.</span><span class="sxs-lookup"><span data-stu-id="3b326-146">This enables you to use a background thread to receive data from an external source, such as a database, and display the data on the UI thread.</span></span>  <span data-ttu-id="3b326-147">Wenn Sie die Auflistung mit einem anderen Thread modifizieren, reagiert die Benutzeroberfläche weiterhin auf die Benutzerinteraktion.</span><span class="sxs-lookup"><span data-stu-id="3b326-147">By using another thread to modify the collection, your user interface remains responsive to user interaction.</span></span>  
  
<a name="INotifyDataErrorInfo"></a>
## <a name="synchronously-and-asynchronously-validating-data"></a><span data-ttu-id="3b326-148">Synchrone und asynchrone Überprüfung von Daten</span><span class="sxs-lookup"><span data-stu-id="3b326-148">Synchronously and Asynchronously validating data</span></span>  
 <span data-ttu-id="3b326-149">Die <xref:System.ComponentModel.INotifyDataErrorInfo>-Schnittstelle ermöglicht es Datenentitätsklassen, benutzerdefinierte Validierungsregeln zu implementieren und Validierungsergebnisse asynchron verfügbar zu machen.</span><span class="sxs-lookup"><span data-stu-id="3b326-149">The <xref:System.ComponentModel.INotifyDataErrorInfo> interface enables data entity classes to implement custom validation rules and expose validation results asynchronously.</span></span> <span data-ttu-id="3b326-150">Diese Schnittstelle unterstützt auch benutzerdefinierte Fehlerobjekte, mehrere Fehler pro Eigenschaft, eigenschaftenübergreifende Fehler und Fehler auf Entitätsebene.</span><span class="sxs-lookup"><span data-stu-id="3b326-150">This interface also supports custom error objects, multiple errors per property, cross-property errors, and entity-level errors.</span></span>  <span data-ttu-id="3b326-151">Weitere Informationen finden Sie unter <xref:System.ComponentModel.INotifyDataErrorInfo>.</span><span class="sxs-lookup"><span data-stu-id="3b326-151">For more information, see <xref:System.ComponentModel.INotifyDataErrorInfo>.</span></span>  
  
<a name="delay"></a>
## <a name="automatically-updating-the-source-of-a-data-binding"></a><span data-ttu-id="3b326-152">Automatische Aktualisierung der Quelle einer Datenbindung</span><span class="sxs-lookup"><span data-stu-id="3b326-152">Automatically updating the source of a data binding</span></span>  
 <span data-ttu-id="3b326-153">Wenn Sie eine Datenquelle mit einer Datenbindung aktualisieren, können Sie mit der Eigenschaft <xref:System.Windows.Data.BindingBase.Delay%2A> angeben, wie viel Zeit nach der Änderung der Eigenschaft am Ziel vergehen soll, bevor die Quelle aktualisiert wird.</span><span class="sxs-lookup"><span data-stu-id="3b326-153">If you use a data binding to update a data source, you can use the <xref:System.Windows.Data.BindingBase.Delay%2A> property to specify an amount of time to pass after the property changes on the target before the source updates.</span></span>  <span data-ttu-id="3b326-154">Angenommen, Sie haben ein <xref:System.Windows.Controls.Slider>, das seine <xref:System.Windows.Controls.Primitives.RangeBase.Value%2A>-Eigenschaftendaten in beide Richtungen an eine Eigenschaft eines Datenobjekts gebunden hat, und die <xref:System.Windows.Data.Binding.UpdateSourceTrigger%2A>-Eigenschaft ist auf <xref:System.Windows.Data.UpdateSourceTrigger.PropertyChanged> festgelegt.</span><span class="sxs-lookup"><span data-stu-id="3b326-154">For example, suppose that you have a <xref:System.Windows.Controls.Slider> that has its <xref:System.Windows.Controls.Primitives.RangeBase.Value%2A> property data two-way bound to a property of a data object and the <xref:System.Windows.Data.Binding.UpdateSourceTrigger%2A> property is set to <xref:System.Windows.Data.UpdateSourceTrigger.PropertyChanged>.</span></span>  <span data-ttu-id="3b326-155">In diesem Beispiel wird, wenn der Benutzer <xref:System.Windows.Controls.Slider> verschiebt, die Quelle für jedes Pixel aktualisiert, das <xref:System.Windows.Controls.Slider> verschiebt.</span><span class="sxs-lookup"><span data-stu-id="3b326-155">In this example, when the user moves the <xref:System.Windows.Controls.Slider>, the source updates for each pixel that the <xref:System.Windows.Controls.Slider> moves.</span></span>  <span data-ttu-id="3b326-156">Das Quellobjekt benötigt in der Regel den Wert des Schiebereglers nur, wenn sich der <xref:System.Windows.Controls.Primitives.RangeBase.Value%2A> des Schiebereglers nicht mehr ändert.</span><span class="sxs-lookup"><span data-stu-id="3b326-156">The source object typically needs the value of the slider only when the slider's <xref:System.Windows.Controls.Primitives.RangeBase.Value%2A> stops changing.</span></span>  <span data-ttu-id="3b326-157">Um zu verhindern, dass sich die Quelle zu oft aktualisiert, geben Sie mit <xref:System.Windows.Data.BindingBase.Delay%2A> an, dass die Quelle nicht aktualisiert werden soll, bis nach abgeschlossener Bewegung ein bestimmter Zeitraum vergangen ist.</span><span class="sxs-lookup"><span data-stu-id="3b326-157">To prevent updating the source too often, use <xref:System.Windows.Data.BindingBase.Delay%2A> to specify that the source should not be updated until a certain amount of time elapses after the thumb stops moving.</span></span>  
  
<a name="ICustomTypeProvider"></a>
## <a name="binding-to-types-that-implement-icustomtypeprovider"></a><span data-ttu-id="3b326-158">Bindung an Typen, die ICustomTypeProvider implementieren</span><span class="sxs-lookup"><span data-stu-id="3b326-158">Binding to types that Implement ICustomTypeProvider</span></span>  
 <span data-ttu-id="3b326-159">WPF unterstützt die Datenbindung an Objekte, die <xref:System.Reflection.ICustomTypeProvider> implementieren, auch als benutzerdefinierte Typen bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="3b326-159">WPF supports data binding to objects that implement <xref:System.Reflection.ICustomTypeProvider>, also known as custom types.</span></span>  <span data-ttu-id="3b326-160">Sie können benutzerdefinierte Typen in den folgenden Fällen verwenden.</span><span class="sxs-lookup"><span data-stu-id="3b326-160">You can use custom types in the following cases.</span></span>  
  
1. <span data-ttu-id="3b326-161">Als <xref:System.Windows.PropertyPath> in einer Datenbindung.</span><span class="sxs-lookup"><span data-stu-id="3b326-161">As a <xref:System.Windows.PropertyPath> in a data binding.</span></span> <span data-ttu-id="3b326-162">Beispielsweise kann die <xref:System.Windows.Data.Binding.Path%2A>-Eigenschaft von <xref:System.Windows.Data.Binding> auf eine Eigenschaft eines benutzerdefinierten Typs verweisen.</span><span class="sxs-lookup"><span data-stu-id="3b326-162">For example, the <xref:System.Windows.Data.Binding.Path%2A> property of a <xref:System.Windows.Data.Binding> can reference a property of a custom type.</span></span>  
  
2. <span data-ttu-id="3b326-163">Als Wert der <xref:System.Windows.DataTemplate.DataType%2A>-Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="3b326-163">As the value of the <xref:System.Windows.DataTemplate.DataType%2A> property.</span></span>  
  
3. <span data-ttu-id="3b326-164">Als Typ, der die automatisch generierten Spalten in <xref:System.Windows.Controls.DataGrid> festlegt.</span><span class="sxs-lookup"><span data-stu-id="3b326-164">As a type that determines the automatically generated columns in a <xref:System.Windows.Controls.DataGrid>.</span></span>  
  
<a name="binding_state"></a>
## <a name="retrieving-data-binding-information-from-a-binding-expression"></a><span data-ttu-id="3b326-165">Abrufen von Datenbindungsinformationen aus einem Bindungsausdruck</span><span class="sxs-lookup"><span data-stu-id="3b326-165">Retrieving data binding information from a binding expression</span></span>  
 <span data-ttu-id="3b326-166">In bestimmten Situationen rufen Sie die <xref:System.Windows.Data.BindingExpression> von <xref:System.Windows.Data.Binding> ab und benötigen Informationen zu den Quell- und Zielobjekten der Bindung.</span><span class="sxs-lookup"><span data-stu-id="3b326-166">In certain cases, you might get the <xref:System.Windows.Data.BindingExpression> of a <xref:System.Windows.Data.Binding> and need information about the source and target objects of the binding.</span></span>  <span data-ttu-id="3b326-167">Es wurden neue APIs hinzugefügt, damit Sie das Quell- oder Zielobjekt oder die zugeordnete Eigenschaft abrufen können.</span><span class="sxs-lookup"><span data-stu-id="3b326-167">New APIs have been added to enable you to get the source or target object or the associated property.</span></span>  <span data-ttu-id="3b326-168">Wenn Sie über <xref:System.Windows.Data.BindingExpression> verfügen, verwenden Sie folgende APIs, um Informationen über das Ziel und die Quelle abzurufen.</span><span class="sxs-lookup"><span data-stu-id="3b326-168">When you have a <xref:System.Windows.Data.BindingExpression>, use the following APIs to get information about the target and source.</span></span>  
  
|<span data-ttu-id="3b326-169">Um diesen Wert der Bindung zu suchen</span><span class="sxs-lookup"><span data-stu-id="3b326-169">To find this value of the binding</span></span>|<span data-ttu-id="3b326-170">Verwenden Sie dieses API</span><span class="sxs-lookup"><span data-stu-id="3b326-170">Use this API</span></span>|  
|---------------------------------------|------------------|  
|<span data-ttu-id="3b326-171">Das Zielobjekt</span><span class="sxs-lookup"><span data-stu-id="3b326-171">The target object</span></span>|<xref:System.Windows.Data.BindingExpressionBase.Target%2A?displayProperty=nameWithType>|  
|<span data-ttu-id="3b326-172">Die Zieleigenschaft</span><span class="sxs-lookup"><span data-stu-id="3b326-172">The target property</span></span>|<xref:System.Windows.Data.BindingExpressionBase.TargetProperty%2A?displayProperty=nameWithType>|  
|<span data-ttu-id="3b326-173">Das Quellobjekt</span><span class="sxs-lookup"><span data-stu-id="3b326-173">The source object</span></span>|<xref:System.Windows.Data.BindingExpression.ResolvedSource%2A?displayProperty=nameWithType>|  
|<span data-ttu-id="3b326-174">Die Quelleigenschaft</span><span class="sxs-lookup"><span data-stu-id="3b326-174">The source property</span></span>|<xref:System.Windows.Data.BindingExpression.ResolvedSourcePropertyName%2A?displayProperty=nameWithType>|  
|<span data-ttu-id="3b326-175">Ob die <xref:System.Windows.Data.BindingExpression> zu einer <xref:System.Windows.Data.BindingGroup> gehört</span><span class="sxs-lookup"><span data-stu-id="3b326-175">Whether the <xref:System.Windows.Data.BindingExpression> belongs to a <xref:System.Windows.Data.BindingGroup></span></span>|<xref:System.Windows.Data.BindingExpressionBase.BindingGroup%2A?displayProperty=nameWithType>|  
|<span data-ttu-id="3b326-176">Der Besitzer einer <xref:System.Windows.Data.BindingGroup></span><span class="sxs-lookup"><span data-stu-id="3b326-176">The owner of a <xref:System.Windows.Data.BindingGroup></span></span>|<xref:System.Windows.Data.BindingGroup.Owner%2A>|  
  
<a name="DisconnectedSource"></a>
## <a name="checking-for-a-valid-datacontext-object"></a><span data-ttu-id="3b326-177">Prüfen auf ein gültiges DataContext-Objekt</span><span class="sxs-lookup"><span data-stu-id="3b326-177">Checking for a valid DataContext object</span></span>  
 <span data-ttu-id="3b326-178">Es gibt Situationen, in denen der <xref:System.Windows.FrameworkElement.DataContext%2A> eines Elementcontainers in einem <xref:System.Windows.Controls.ItemsControl> getrennt wird.</span><span class="sxs-lookup"><span data-stu-id="3b326-178">There are cases where the <xref:System.Windows.FrameworkElement.DataContext%2A> of an item container in an <xref:System.Windows.Controls.ItemsControl> becomes disconnected.</span></span>  <span data-ttu-id="3b326-179">Ein Elementcontainer ist das Benutzeroberflächenelement, das ein Element in einem <xref:System.Windows.Controls.ItemsControl> anzeigt.</span><span class="sxs-lookup"><span data-stu-id="3b326-179">An item container is the UI element that displays an item in an <xref:System.Windows.Controls.ItemsControl>.</span></span>  <span data-ttu-id="3b326-180">Wenn ein <xref:System.Windows.Controls.ItemsControl> an eine Auflistung datengebunden ist, wird ein Elementcontainer für jedes Element generiert.</span><span class="sxs-lookup"><span data-stu-id="3b326-180">When an <xref:System.Windows.Controls.ItemsControl> is data bound to a collection, an item container is generated for each item.</span></span> <span data-ttu-id="3b326-181">In einigen Fällen werden Elementcontainer aus der visuellen Struktur entfernt.</span><span class="sxs-lookup"><span data-stu-id="3b326-181">In some cases, item containers are removed from the visual tree.</span></span> <span data-ttu-id="3b326-182">Zwei typische Situationen, in denen ein Elementcontainer entfernt wird, sind folgende: Wenn ein Element aus der zugrunde liegenden Auflistung entfernt wird, und wenn Virtualisierung auf <xref:System.Windows.Controls.ItemsControl> aktiviert wird.</span><span class="sxs-lookup"><span data-stu-id="3b326-182">Two typical cases where an item container is removed are when an item is removed from the underlying collection and when virtualization is enabled on the <xref:System.Windows.Controls.ItemsControl>.</span></span> <span data-ttu-id="3b326-183">In diesen Fällen wird die <xref:System.Windows.FrameworkElement.DataContext%2A>-Eigenschaft des Elementcontainers auf das Sentinelobjekt festgelegt, das von der statischen <xref:System.Windows.Data.BindingOperations.DisconnectedSource%2A?displayProperty=nameWithType>-Eigenschaft zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="3b326-183">In these cases, the <xref:System.Windows.FrameworkElement.DataContext%2A> property of the item container will be set to the sentinel object that is returned by the <xref:System.Windows.Data.BindingOperations.DisconnectedSource%2A?displayProperty=nameWithType> static property.</span></span>  <span data-ttu-id="3b326-184">Sie sollten überprüfen, ob <xref:System.Windows.FrameworkElement.DataContext%2A> gleich dem <xref:System.Windows.Data.BindingOperations.DisconnectedSource%2A>-Objekt ist, bevor Sie auf den <xref:System.Windows.FrameworkElement.DataContext%2A> eines Elementcontainers zugreifen.</span><span class="sxs-lookup"><span data-stu-id="3b326-184">You should check whether the <xref:System.Windows.FrameworkElement.DataContext%2A> is equal to the <xref:System.Windows.Data.BindingOperations.DisconnectedSource%2A> object before accessing the <xref:System.Windows.FrameworkElement.DataContext%2A> of an item container.</span></span>  
  
<a name="live_shaping"></a>
## <a name="repositioning-data-as-the-datas-values-change-live-shaping"></a><span data-ttu-id="3b326-185">Neupositionierung von Daten bei Wertänderung (Live-Strukturierung)</span><span class="sxs-lookup"><span data-stu-id="3b326-185">Repositioning data as the data's values change (Live shaping)</span></span>  
 <span data-ttu-id="3b326-186">Eine Datenauflistung kann gruppiert, gefiltert oder sortiert werden.</span><span class="sxs-lookup"><span data-stu-id="3b326-186">A collection of data can be grouped, sorted, or filtered.</span></span> <span data-ttu-id="3b326-187">WPF 4.5 ermöglicht die Neuanordnung, wenn die Daten geändert werden.</span><span class="sxs-lookup"><span data-stu-id="3b326-187">WPF 4.5 enables the data to be rearranged when the data is modified.</span></span> <span data-ttu-id="3b326-188">Angenommen, eine Anwendung listet mit <xref:System.Windows.Controls.DataGrid> die Aktien an einer Börse auf, und die Aktien werden nach Aktienwert sortiert.</span><span class="sxs-lookup"><span data-stu-id="3b326-188">For example, suppose that an application uses a <xref:System.Windows.Controls.DataGrid> to list stocks in a stock market and the stocks are sorted by stock value.</span></span> <span data-ttu-id="3b326-189">Wenn die Livesortierung in der <xref:System.Windows.Data.CollectionView> der Aktien aktiviert ist, ändert sich die Position einer Aktie in <xref:System.Windows.Controls.DataGrid>, wenn der Wert der Aktie über oder unter den Wert einer anderen Aktie steigt oder sinkt.</span><span class="sxs-lookup"><span data-stu-id="3b326-189">If live sorting is enabled on the stocks' <xref:System.Windows.Data.CollectionView>, a stock's position in the <xref:System.Windows.Controls.DataGrid> moves when the value of the stock becomes greater or less than another stock's value.</span></span>   <span data-ttu-id="3b326-190">Weitere Informationen finden Sie unter der <xref:System.ComponentModel.ICollectionViewLiveShaping>-Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="3b326-190">For more information, see the <xref:System.ComponentModel.ICollectionViewLiveShaping> interface.</span></span>  
  
<a name="weak_event_pattern"></a>
## <a name="improved-support-for-establishing-a-weak-reference-to-an-event"></a><span data-ttu-id="3b326-191">Verbesserte Unterstützung für die Einrichtung eines schwachen Verweises auf ein Ereignis</span><span class="sxs-lookup"><span data-stu-id="3b326-191">Improved Support for Establishing a Weak Reference to an Event</span></span>  
 <span data-ttu-id="3b326-192">Die Implementierung des schwachen Ereignismusters ist jetzt einfacher, da Abonnenten der Ereignisse daran beteiligt sein können, ohne eine zusätzliche Schnittstelle implementieren zu müssen.</span><span class="sxs-lookup"><span data-stu-id="3b326-192">Implementing the weak event pattern is now easier because subscribers to events can participate in it without implementing an extra interface.</span></span>  <span data-ttu-id="3b326-193">Die generische <xref:System.Windows.WeakEventManager>-Klasse ermöglicht es Abonnenten außerdem, am schwachen Ereignismuster teilzunehmen, wenn für ein bestimmtes Ereignis kein dedizierter <xref:System.Windows.WeakEventManager> vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="3b326-193">The generic <xref:System.Windows.WeakEventManager> class also enables subscribers to participate in the weak event pattern if a dedicated <xref:System.Windows.WeakEventManager> does not exist for a certain event.</span></span>  <span data-ttu-id="3b326-194">Weitere Informationen finden Sie unter [Schwache Ereignismuster](../advanced/weak-event-patterns.md).</span><span class="sxs-lookup"><span data-stu-id="3b326-194">For more information, see [Weak Event Patterns](../advanced/weak-event-patterns.md).</span></span>  
  
<a name="async"></a>
## <a name="new-methods-for-the-dispatcher-class"></a><span data-ttu-id="3b326-195">Neue Methoden für die Verteilerklasse</span><span class="sxs-lookup"><span data-stu-id="3b326-195">New methods for the Dispatcher class</span></span>  
 <span data-ttu-id="3b326-196">Die Verteilerklasse definiert neue Methoden für synchrone und asynchrone Vorgänge.</span><span class="sxs-lookup"><span data-stu-id="3b326-196">The Dispatcher class defines new methods for synchronous and asynchronous operations.</span></span>  <span data-ttu-id="3b326-197">Die synchrone <xref:System.Windows.Threading.Dispatcher.Invoke%2A>-Methode definiert Überladungen, die einen <xref:System.Action>- oder <xref:System.Func%601>-Parameter entgegennehmen.</span><span class="sxs-lookup"><span data-stu-id="3b326-197">The synchronous <xref:System.Windows.Threading.Dispatcher.Invoke%2A> method defines overloads that take an <xref:System.Action> or <xref:System.Func%601> parameter.</span></span> <span data-ttu-id="3b326-198">Die neue asynchrone Methode <xref:System.Windows.Threading.Dispatcher.InvokeAsync%2A> nimmt ebenfalls <xref:System.Action> oder <xref:System.Func%601> als Rückrufparameter entgegen und gibt <xref:System.Windows.Threading.DispatcherOperation> oder <xref:System.Windows.Threading.DispatcherOperation%601> zurück.</span><span class="sxs-lookup"><span data-stu-id="3b326-198">The new asynchronous method, <xref:System.Windows.Threading.Dispatcher.InvokeAsync%2A>, also takes an <xref:System.Action> or <xref:System.Func%601> as the callback parameter and returns a <xref:System.Windows.Threading.DispatcherOperation> or <xref:System.Windows.Threading.DispatcherOperation%601>.</span></span>   <span data-ttu-id="3b326-199">Die <xref:System.Windows.Threading.DispatcherOperation>- und <xref:System.Windows.Threading.DispatcherOperation%601>-Klassen definieren eine <xref:System.Threading.Tasks.Task>-Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="3b326-199">The <xref:System.Windows.Threading.DispatcherOperation> and <xref:System.Windows.Threading.DispatcherOperation%601> classes define a <xref:System.Threading.Tasks.Task> property.</span></span>  <span data-ttu-id="3b326-200">Wenn Sie <xref:System.Windows.Threading.Dispatcher.InvokeAsync%2A> aufrufen, können Sie das Schlüsselwort `await` entweder mit <xref:System.Windows.Threading.DispatcherOperation> oder mit dem zugehörigen <xref:System.Threading.Tasks.Task> verwenden.</span><span class="sxs-lookup"><span data-stu-id="3b326-200">When you call <xref:System.Windows.Threading.Dispatcher.InvokeAsync%2A>, you can use the `await` keyword with either the <xref:System.Windows.Threading.DispatcherOperation> or the associated <xref:System.Threading.Tasks.Task>.</span></span> <span data-ttu-id="3b326-201">Wenn Sie synchron auf das <xref:System.Threading.Tasks.Task> warten müssen, das von <xref:System.Windows.Threading.DispatcherOperation> oder <xref:System.Windows.Threading.DispatcherOperation%601> zurückgegeben wird, rufen Sie die <xref:System.Windows.Threading.TaskExtensions.DispatcherOperationWait%2A>-Erweiterungsmethode auf.</span><span class="sxs-lookup"><span data-stu-id="3b326-201">If you need to wait synchronously for the <xref:System.Threading.Tasks.Task> that is returned by a <xref:System.Windows.Threading.DispatcherOperation> or <xref:System.Windows.Threading.DispatcherOperation%601>, call the <xref:System.Windows.Threading.TaskExtensions.DispatcherOperationWait%2A> extension method.</span></span> <span data-ttu-id="3b326-202">Wenn Sie <xref:System.Threading.Tasks.Task.Wait%2A?displayProperty=nameWithType> aufrufen, führt das zu einem Deadlock, wenn der Vorgang auf einem aufrufenden Thread in die Warteschlange gestellt wird.</span><span class="sxs-lookup"><span data-stu-id="3b326-202">Calling <xref:System.Threading.Tasks.Task.Wait%2A?displayProperty=nameWithType> will result in a deadlock if the operation is queued on a calling thread.</span></span> <span data-ttu-id="3b326-203">Weitere Informationen zum <xref:System.Threading.Tasks.Task> Ausführen von asynchronen Vorgängen mithilfe von finden Sie unter [Task parallelism (Task Parallel Library)](/dotnet/standard/parallel-programming/task-based-asynchronous-programming).</span><span class="sxs-lookup"><span data-stu-id="3b326-203">For more information about using a <xref:System.Threading.Tasks.Task> to perform asynchronous operations, see [Task Parallelism (Task Parallel Library)](/dotnet/standard/parallel-programming/task-based-asynchronous-programming).</span></span>  
  
<a name="events_markup_extenions"></a>
## <a name="markup-extensions-for-events"></a><span data-ttu-id="3b326-204">Markuperweiterungen für Ereignisse</span><span class="sxs-lookup"><span data-stu-id="3b326-204">Markup Extensions for Events</span></span>  
 <span data-ttu-id="3b326-205">WPF 4.5 unterstützt Markuperweiterungen für Ereignisse.</span><span class="sxs-lookup"><span data-stu-id="3b326-205">WPF 4.5 supports markup extensions for events.</span></span>  <span data-ttu-id="3b326-206">WPF definiert zwar keine Markuperweiterung zur Verwendung für Ereignisse, diese können aber von Drittanbietern erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="3b326-206">While WPF does not define a markup extension to be used for events, third parties are able to create a markup extension that can be used with events.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3b326-207">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="3b326-207">See also</span></span>

- [<span data-ttu-id="3b326-208">Neuigkeiten in .NET Framework</span><span class="sxs-lookup"><span data-stu-id="3b326-208">What's New in the .NET Framework</span></span>](/dotnet/framework/whats-new/index)
