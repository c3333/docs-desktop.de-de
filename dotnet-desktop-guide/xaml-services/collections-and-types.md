---
title: Auflistungen und Auflistungstypen für XAML
ms.date: 03/30/2017
ms.assetid: 58f8e7c6-9a41-4f25-8551-c042f1315baa
ms.openlocfilehash: 2ec58026c605df31489c8aab4c4cc714dab11474
ms.sourcegitcommit: 9f6df084c53a3da0ea657ed0d708a72213683084
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/09/2020
ms.locfileid: "96978120"
---
# <a name="collections-and-collection-types-for-xaml"></a><span data-ttu-id="0e15f-102">Auflistungen und Auflistungs Typen für XAML</span><span class="sxs-lookup"><span data-stu-id="0e15f-102">Collections and collection types for XAML</span></span>

<span data-ttu-id="0e15f-103">In diesem Artikel wird beschrieben, wie Eigenschaften von Typen definiert werden, die zur Unterstützung einer Auflistung vorgesehen sind, und wie die XAML-Syntax zum Instanziieren von Auflistungs Elementen als untergeordnete Elemente eines übergeordneten Objekt Elements oder Eigenschafts Elements unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="0e15f-103">This article describes how to define properties of types that are intended to support a collection, and to support the XAML syntax for instantiating collection items as element children of a parent object element or property element.</span></span>

## <a name="xaml-collection-concepts"></a><span data-ttu-id="0e15f-104">Konzepte der XAML-Sammlung</span><span class="sxs-lookup"><span data-stu-id="0e15f-104">XAML Collection Concepts</span></span>

<span data-ttu-id="0e15f-105">Konzeptionell muss jede Beziehung in XAML, in der mehrere untergeordnete Elemente innerhalb des Gültigkeits Bereichs eines XAML-Objekt Elements oder eines XAML-Eigenschafts Elements vorhanden sind, als Auflistung implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="0e15f-105">Conceptually, any relationship in XAML where there are multiple child items within the scope of a XAML object element or XAML property element must be implemented as a collection.</span></span> <span data-ttu-id="0e15f-106">Diese Auflistung muss einer bestimmten XAML-Eigenschaft des XAML-Typs zugeordnet werden, der in dieser Beziehung übergeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="0e15f-106">That collection must be associated with a particular XAML property of the XAML type that is the parent in that relationship.</span></span> <span data-ttu-id="0e15f-107">Die-Eigenschaft muss eine Auflistung sein, da ein XAML-Prozessor erwartet, dass jedes Element im Markup als neu hinzugefügtes Element der Sicherungs Auflistungs Eigenschaft zugewiesen wird.</span><span class="sxs-lookup"><span data-stu-id="0e15f-107">The property must be a collection because a XAML processor expects to assign each item in markup to be a newly added item of the backing collection property.</span></span>

<span data-ttu-id="0e15f-108">Auf der XAML-Sprachebene werden die genauen Anforderungen an die Unterstützung von Sammlungen nicht vollständig definiert.</span><span class="sxs-lookup"><span data-stu-id="0e15f-108">At the XAML language level, the exact requirements of collection support are not fully defined.</span></span> <span data-ttu-id="0e15f-109">Das Konzept, dass eine Auflistung entweder eine Liste oder ein Wörterbuch (aber nicht beides) sein kann, wird auf der XAML-Sprachebene definiert, aber die Unterstützungs Typen, die entweder Listen oder Wörterbücher darstellen, werden nicht von der XAML-Sprache definiert.</span><span class="sxs-lookup"><span data-stu-id="0e15f-109">The concept that a collection can be either a list or a dictionary(but not both) is defined at the XAML language level, but which backing types represent either lists or dictionaries is not defined by the XAML language.</span></span>

<span data-ttu-id="0e15f-110">In .net XAML-Diensten ist das Konzept der Unterstützung von XAML-Auflistungen klarer definiert in Bezug auf .net-Unterstützungs Typen.</span><span class="sxs-lookup"><span data-stu-id="0e15f-110">In .NET XAML Services, the concept of XAML collection support is more clearly defined in terms of .NET backing types.</span></span> <span data-ttu-id="0e15f-111">Die XAML-Unterstützung für Auflistungen basiert insbesondere auf mehreren .net-Konzepten und APIs, die für Listen und Wörterbücher in allgemeiner .NET-Programmierung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="0e15f-111">Specifically, the XAML support for collections is based on several .NET concepts and APIs that are used for lists and dictionaries in general .NET programming.</span></span>

1. <span data-ttu-id="0e15f-112">Die- <xref:System.Collections.IList> Schnittstelle gibt eine Listen Auflistung an.</span><span class="sxs-lookup"><span data-stu-id="0e15f-112">The <xref:System.Collections.IList> interface indicates a list collection.</span></span>

2. <span data-ttu-id="0e15f-113">Die- <xref:System.Collections.IDictionary> Schnittstelle gibt eine Wörterbuch Auflistung an.</span><span class="sxs-lookup"><span data-stu-id="0e15f-113">The <xref:System.Collections.IDictionary> interface indicates a dictionary collection.</span></span>

3. <span data-ttu-id="0e15f-114"><xref:System.Array> stellt ein Array dar, und ein Array unterstützt <xref:System.Collections.IList> Methoden.</span><span class="sxs-lookup"><span data-stu-id="0e15f-114"><xref:System.Array> represents an array, and an array supports <xref:System.Collections.IList> methods.</span></span>

<span data-ttu-id="0e15f-115">In jedem dieser Auflistungs Konzepte erwartet ein XAML-Prozessor von .net XAML-Diensten, dass die `Add` -Methode für eine bestimmte Instanz des Typs der Sammlungs Eigenschaft aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="0e15f-115">In each of these collection concepts, a .NET XAML Services XAML processor expects to call the `Add` method on a specific instance of the collection property's type.</span></span> <span data-ttu-id="0e15f-116">In einem serialisierungsszenario erzeugt ein XAML-Prozessor diskrete XAML-Typinstanzen für jedes Element, das in der Liste, im Wörterbuch oder in dem Array gefunden wird, basierend auf dem spezifischen Konzept der einzelnen Auflistung von "Items".</span><span class="sxs-lookup"><span data-stu-id="0e15f-116">Or, in a serialization scenario, a XAML processor produces discrete XAML-type instances for each item found in the list, dictionary, or array based on each collection's specific concept of "Items".</span></span> <span data-ttu-id="0e15f-117">Diese Elemente sind: <xref:System.Collections.IList.Item%2A?displayProperty=nameWithType> ; <xref:System.Collections.IDictionary.Item%2A?displayProperty=nameWithType> , der explizite <xref:System.Array.System%23Collections%23IList%23Item%2A?displayProperty=nameWithType> für <xref:System.Array> .</span><span class="sxs-lookup"><span data-stu-id="0e15f-117">These items are: <xref:System.Collections.IList.Item%2A?displayProperty=nameWithType>; <xref:System.Collections.IDictionary.Item%2A?displayProperty=nameWithType>; the explicit <xref:System.Array.System%23Collections%23IList%23Item%2A?displayProperty=nameWithType> for <xref:System.Array>.</span></span>

## <a name="generic-collections"></a><span data-ttu-id="0e15f-118">Generische Auflistungen</span><span class="sxs-lookup"><span data-stu-id="0e15f-118">Generic Collections</span></span>

<span data-ttu-id="0e15f-119">Generische Auflistungen können für die allgemeine .NET-Programmierung nützlich sein und können auch für XAML-Auflistungs Eigenschaften verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="0e15f-119">Generic collections can be useful for general .NET programming, and can also be used for XAML collection properties.</span></span> <span data-ttu-id="0e15f-120">Die generischen Schnittstellen <xref:System.Collections.Generic.IList%601> und <xref:System.Collections.Generic.IDictionary%602> werden jedoch nicht durch XAML-Prozessoren der .net XAML-Dienste als Äquivalent zum nicht generischen <xref:System.Collections.IList> oder identifiziert <xref:System.Collections.IDictionary> .</span><span class="sxs-lookup"><span data-stu-id="0e15f-120">However, the generic interfaces <xref:System.Collections.Generic.IList%601> and <xref:System.Collections.Generic.IDictionary%602> are not identified by .NET XAML Services XAML processors as being equivalent to the non-generic <xref:System.Collections.IList> or <xref:System.Collections.IDictionary>.</span></span> <span data-ttu-id="0e15f-121">Anstatt die-Schnittstellen zu implementieren, empfiehlt es sich, für generische Auflistungs Eigenschafts Typen eine Ableitung von den-Klassen oder durchzuführen <xref:System.Collections.Generic.List%601> <xref:System.Collections.Generic.Dictionary%602> .</span><span class="sxs-lookup"><span data-stu-id="0e15f-121">Rather than implementing the interfaces, a recommended approach for generic collection property types is to derive from the classes <xref:System.Collections.Generic.List%601> or <xref:System.Collections.Generic.Dictionary%602>.</span></span> <span data-ttu-id="0e15f-122">Diese Klassen implementieren die nicht generischen Schnittstellen und enthalten daher die erwartete Unterstützung für XAML-Auflistungen in der Basis Implementierung.</span><span class="sxs-lookup"><span data-stu-id="0e15f-122">These classes implement the non-generic interfaces and thus include the expected support for XAML collections in the base implementation.</span></span>

## <a name="read-only-collections-and-initialization-logic"></a><span data-ttu-id="0e15f-123">Read-Only Auflistungen und Initialisierungs Logik</span><span class="sxs-lookup"><span data-stu-id="0e15f-123">Read-Only Collections and Initialization Logic</span></span>

<span data-ttu-id="0e15f-124">Bei der .NET-Programmierung ist es ein gängiges Entwurfsmuster, jede Eigenschaft, die einen Wert einer Auflistung enthält, als schreibgeschützte Auflistung festzulegen.</span><span class="sxs-lookup"><span data-stu-id="0e15f-124">In .NET programming, it is a common design pattern to make any property that holds a value of a collection as a read-only collection.</span></span> <span data-ttu-id="0e15f-125">Dieses Muster ermöglicht es der-Instanz, die die-Auflistungs Eigenschaft besitzt, besser zu steuern, was mit der Auflistung geschieht.</span><span class="sxs-lookup"><span data-stu-id="0e15f-125">This pattern permits the instance that owns the collection property to better control what happens to the collection..</span></span> <span data-ttu-id="0e15f-126">Das-Muster verhindert insbesondere das versehentliche ersetzen der gesamten bereits vorhandenen-Auflistung durch Festlegen der-Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="0e15f-126">Specifically, the pattern prevents accidental replacement of the entire pre-existing collection by setting the property.</span></span> <span data-ttu-id="0e15f-127">In diesem Muster sollte der Zugriff auf die Auflistung durch Aufrufer stattdessen durch das Aufrufen von Methoden oder Eigenschaften erfolgen, die vom Sammlungstyp und/oder den relevanten Auflistungs Schnittstellen wie unterstützt werden <xref:System.Collections.IList> .</span><span class="sxs-lookup"><span data-stu-id="0e15f-127">In this pattern, any access to the collection by callers should instead be made by calling methods or properties as supported by the collection type and/or the relevant collection interfaces such as <xref:System.Collections.IList>.</span></span>

<span data-ttu-id="0e15f-128">Die Verwendung dieses Musters impliziert, dass jede Klasse, die eine schreibgeschützte Auflistungs Eigenschaft verfügbar macht, diese Eigenschaft zuerst so initialisieren muss, dass Sie eine leere Auflistung enthält.</span><span class="sxs-lookup"><span data-stu-id="0e15f-128">Using this pattern implies that any class that exposes a read-only collection property must first initialize that property to hold an empty collection.</span></span> <span data-ttu-id="0e15f-129">In der Regel wird die Initialisierung im Rahmen des Konstruktions Verhaltens für die-Klasse ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="0e15f-129">Typically the initialization is performed as part of the construction behavior for the class.</span></span> <span data-ttu-id="0e15f-130">Um für XAML nützlich zu sein, ist es wichtig, dass auf diese Logik immer durch den Parameter losen Konstruktor verwiesen wird, da XAML in der Regel den Parameter losen Konstruktor aufruft, bevor die Eigenschaften verarbeitet werden (Auflistungs Eigenschaften oder anderweitig).</span><span class="sxs-lookup"><span data-stu-id="0e15f-130">To be useful for XAML, it is important that such logic is always referenced by the parameterless constructor, because XAML generally calls the parameterless constructor prior to processing the properties (collection properties or otherwise).</span></span>

## <a name="xaml-type-system-support-and-collections"></a><span data-ttu-id="0e15f-131">XAML-typsystemunterstützung und-Auflistungen</span><span class="sxs-lookup"><span data-stu-id="0e15f-131">XAML Type System Support and Collections</span></span>

<span data-ttu-id="0e15f-132">Das XAML-Typsystem, das in .net XAML-Diensten implementiert ist, über die grundlegenden Mechanismen zum Durchlaufen von XAML und zum Auffüllen oder Serialisieren von Auflistungs Eigenschaften hinaus umfasst mehrere Entwurfsfunktionen, die sich auf Auflistungen in XAML beziehen.</span><span class="sxs-lookup"><span data-stu-id="0e15f-132">Beyond the basic mechanics of parsing XAML and populating or serializing collection properties, the XAML type system as implemented in .NET XAML Services includes several design features that pertain to collections in XAML.</span></span>

1. <span data-ttu-id="0e15f-133"><xref:System.Xaml.XamlType.IsCollection%2A> gibt true zurück, wenn der XAML-Typ durch einen Typ gestützt wird, der XAML-Auflistungs Unterstützung bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="0e15f-133"><xref:System.Xaml.XamlType.IsCollection%2A> returns true if the XAML type is backed by a type that provides XAML collection support.</span></span>

2. <span data-ttu-id="0e15f-134"><xref:System.Xaml.XamlType.IsDictionary%2A> und <xref:System.Xaml.XamlType.IsArray%2A> können den Auflistmodus, den der XAML-Typ unterstützt, genauer identifizieren.</span><span class="sxs-lookup"><span data-stu-id="0e15f-134"><xref:System.Xaml.XamlType.IsDictionary%2A> and <xref:System.Xaml.XamlType.IsArray%2A> can further identify which collection mode the XAML type supports.</span></span> <span data-ttu-id="0e15f-135">Bei benutzerdefinierten XAML-Prozessoren, die auf .net XAML-Diensten und dem XAML-Typsystem basieren, aber nicht auf vorhandenen <xref:System.Xaml.XamlWriter> Implementierungen basieren, kann es erforderlich sein, den verwendeten Auflistungs Modus zu kennen, um zu ermitteln, welche Methode für die Sammlungs Verarbeitung aufgerufen werden soll.</span><span class="sxs-lookup"><span data-stu-id="0e15f-135">For custom XAML processors that are based on .NET XAML Services and the XAML type system but not based on existing <xref:System.Xaml.XamlWriter> implementations, knowing which collection mode is used might be necessary in order to know which method to invoke for collection processing.</span></span>

3. <span data-ttu-id="0e15f-136">Jeder der vorherigen Eigenschaftswerte kann potenziell durch über schreibungen von <xref:System.Xaml.XamlType.LookupCollectionKind%2A> für einen XAML-Typ beeinflusst werden.</span><span class="sxs-lookup"><span data-stu-id="0e15f-136">Each of the previous property values is potentially influenced by overrides of <xref:System.Xaml.XamlType.LookupCollectionKind%2A> on a XAML type.</span></span>
