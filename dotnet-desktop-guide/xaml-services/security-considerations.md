---
title: XAML-Sicherheitsüberlegungen
ms.date: 03/30/2017
helpviewer_keywords:
- security [XAML Services], .NET XAML services
- XAML security [XAML Services]
ms.assetid: 544296d4-f38e-4498-af49-c9f4dad28964
ms.openlocfilehash: 1864910b339c74e3033fb4d6d8baebffada1a4f8
ms.sourcegitcommit: 9f6df084c53a3da0ea657ed0d708a72213683084
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/09/2020
ms.locfileid: "96978172"
---
# <a name="xaml-security-considerations"></a><span data-ttu-id="b555c-102">Überlegungen zur XAML-Sicherheit</span><span class="sxs-lookup"><span data-stu-id="b555c-102">XAML security considerations</span></span>

<span data-ttu-id="b555c-103">In diesem Artikel werden bewährte Methoden für die Sicherheit in Anwendungen beschrieben, wenn Sie die XAML-und .net XAML-Dienste-API verwenden.</span><span class="sxs-lookup"><span data-stu-id="b555c-103">This article describes best practices for security in applications when you use XAML and .NET XAML Services API.</span></span>

## <a name="untrusted-xaml-in-applications"></a><span data-ttu-id="b555c-104">Nicht vertrauenswürdige XAML in Anwendungen</span><span class="sxs-lookup"><span data-stu-id="b555c-104">Untrusted XAML in Applications</span></span>

<span data-ttu-id="b555c-105">Im Allgemeinen ist nicht vertrauenswürdiger XAML-Code eine beliebige XAML-Quelle, die von der Anwendung nicht speziell eingeschlossen oder ausgegeben wurde.</span><span class="sxs-lookup"><span data-stu-id="b555c-105">In the most general sense, untrusted XAML is any XAML source that your application did not specifically include or emit.</span></span>

<span data-ttu-id="b555c-106">XAML, das in `resx` einer vertrauenswürdigen und signierten Assembly in eine Ressource vom Typ kompiliert oder als Ressource gespeichert wird, ist nicht grundsätzlich nicht vertrauenswürdig.</span><span class="sxs-lookup"><span data-stu-id="b555c-106">XAML that is compiled into or stored as a `resx`-type resource within a trusted and signed assembly is not inherently untrusted.</span></span> <span data-ttu-id="b555c-107">Sie können XAML als vertrauenswürdig einstufen, wenn Sie die Assembly als Ganzes vertrauenswürdig einstufen.</span><span class="sxs-lookup"><span data-stu-id="b555c-107">You can trust the XAML as much as you trust the assembly as a whole.</span></span> <span data-ttu-id="b555c-108">In den meisten Fällen betreffen Sie nur die Vertrauens Aspekte von Loose XAML, bei dem es sich um eine XAML-Quelle handelt, die Sie aus einem Stream oder anderen e/a-Vorgängen laden.</span><span class="sxs-lookup"><span data-stu-id="b555c-108">In most cases, you are only concerned with the trust aspects of loose XAML, which is a XAML source that you load from a stream or other I/O.</span></span> <span data-ttu-id="b555c-109">Der Lose XAML-Code ist keine bestimmte Komponente oder Funktion eines Anwendungs Modells mit einer Bereitstellungs-und Paket Erstellungs Infrastruktur.</span><span class="sxs-lookup"><span data-stu-id="b555c-109">Loose XAML is not a specific component or feature of an application model with a deployment and packaging infrastructure.</span></span> <span data-ttu-id="b555c-110">Eine Assembly kann jedoch ein Verhalten implementieren, das das Laden von Loose XAML einschließt.</span><span class="sxs-lookup"><span data-stu-id="b555c-110">However, an assembly might implement a behavior that involves loading loose XAML.</span></span>

<span data-ttu-id="b555c-111">Bei nicht vertrauenswürdigem XAML sollten Sie es im allgemeinen genauso behandeln wie bei nicht vertrauenswürdigem Code.</span><span class="sxs-lookup"><span data-stu-id="b555c-111">For untrusted XAML, you should treat it generally the same as if it were untrusted code.</span></span> <span data-ttu-id="b555c-112">Verwenden Sie Sandkasten oder andere Metaphern, um zu verhindern, dass möglicherweise nicht vertrauenswürdiger XAML auf ihren vertrauenswürdigen Code zugreift</span><span class="sxs-lookup"><span data-stu-id="b555c-112">Use sandboxing or other metaphors to prevent possibly untrusted XAML from accessing your trusted code.</span></span>

<span data-ttu-id="b555c-113">Die Art von XAML-Funktionen bietet dem XAML das Recht, Objekte zu erstellen und ihre Eigenschaften festzulegen.</span><span class="sxs-lookup"><span data-stu-id="b555c-113">The nature of XAML capabilities gives the XAML the right to construct objects and set their properties.</span></span> <span data-ttu-id="b555c-114">Diese Funktionen umfassen auch den Zugriff auf Typkonverter, das Mapping und den Zugriff auf Assemblys in der Anwendungsdomäne, die Verwendung von Markup Erweiterungen, `x:Code` Blöcken usw.</span><span class="sxs-lookup"><span data-stu-id="b555c-114">These capabilities also include accessing type converters, mapping and accessing assemblies in the application domain, using markup extensions, `x:Code` blocks, and so on.</span></span>

<span data-ttu-id="b555c-115">Zusätzlich zu den Funktionen auf Sprachebene wird XAML für die Benutzeroberflächen Definition in vielen Technologien verwendet.</span><span class="sxs-lookup"><span data-stu-id="b555c-115">In addition to its language-level capabilities, XAML is used for UI definition in many technologies.</span></span> <span data-ttu-id="b555c-116">Das Laden von nicht vertrauenswürdigem XAML kann das Laden einer bösartigen Spoofing-Benutzeroberfläche bedeuten.</span><span class="sxs-lookup"><span data-stu-id="b555c-116">Loading untrusted XAML might mean loading a malicious spoofing UI.</span></span>

## <a name="sharing-context-between-readers-and-writers"></a><span data-ttu-id="b555c-117">Gemeinsame Nutzung von Kontext zwischen Lesern und Writern</span><span class="sxs-lookup"><span data-stu-id="b555c-117">Sharing Context Between Readers and Writers</span></span>

<span data-ttu-id="b555c-118">Die Architektur der .net XAML-Dienste für XAML-Reader und XAML-Writer erfordert häufig die Freigabe eines XAML-Readers für einen XAML-Writer oder einen freigegebenen XAML-Schema Kontext.</span><span class="sxs-lookup"><span data-stu-id="b555c-118">.NET XAML Services architecture for XAML readers and XAML writers often requires sharing a XAML reader to a XAML writer, or a shared XAML schema context.</span></span> <span data-ttu-id="b555c-119">Die Freigabe von Objekten oder Kontexten ist möglicherweise erforderlich, wenn Sie XAML-Knoten Schleifen Logik schreiben oder einen benutzerdefinierten Speicherpfad bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="b555c-119">Sharing objects or contexts might be required if you are writing XAML node loop logic, or providing a custom save path.</span></span> <span data-ttu-id="b555c-120">Geben Sie keine XAML-Reader-Instanzen, keinen standardmäßigen XAML-Schema Kontext oder Einstellungen für XAML-Reader/Writer-Klassen zwischen vertrauenswürdigem und nicht vertrauenswürdigem Code frei.</span><span class="sxs-lookup"><span data-stu-id="b555c-120">Don't share XAML reader instances, nondefault XAML schema context, or settings for XAML reader/writer classes between trusted and untrusted code.</span></span>

<span data-ttu-id="b555c-121">Die meisten Szenarien und Vorgänge, die das Schreiben von XAML-Objekten für eine CLR-basierte Typunterstützung betreffen, können nur XAML-Standardschema Kontext verwenden.</span><span class="sxs-lookup"><span data-stu-id="b555c-121">Most scenarios and operations involving XAML object writing for a CLR-based type backing can just use default XAML schema context.</span></span> <span data-ttu-id="b555c-122">Der standardmäßige XAML-Schema Kontext umfasst nicht explizit Einstellungen, die eine vollständige Vertrauenswürdigkeit gefährden könnten.</span><span class="sxs-lookup"><span data-stu-id="b555c-122">The default XAML schema context does not explicitly include settings that could compromise full trust.</span></span> <span data-ttu-id="b555c-123">Es ist daher sicher, den Kontext zwischen vertrauenswürdigen und nicht vertrauenswürdigen XAML-Reader-/schreibkomponenten gemeinsam zu nutzen.</span><span class="sxs-lookup"><span data-stu-id="b555c-123">It is thus safe to share context between trusted and untrusted XAML reader/writer components.</span></span> <span data-ttu-id="b555c-124">Wenn Sie dies jedoch tun, ist es immer noch eine bewährte Vorgehensweise, solche Reader und Writer in separaten Bereichen zu belassen <xref:System.AppDomain> , wobei eine davon speziell für teilweise Vertrauenswürdigkeit gedacht/Sandkasten ist.</span><span class="sxs-lookup"><span data-stu-id="b555c-124">However, if you do this, it is still a best practice to keep such readers and writers in separate <xref:System.AppDomain> scopes, with one of them specifically intended/sandboxed for partial trust.</span></span>

## <a name="xaml-namespaces-and-assembly-trust"></a><span data-ttu-id="b555c-125">XAML-Namespaces und assemblyvertrauensstellung</span><span class="sxs-lookup"><span data-stu-id="b555c-125">XAML Namespaces and Assembly Trust</span></span>

<span data-ttu-id="b555c-126">Die grundlegende nicht qualifizierte Syntax und Definition, wie XAML eine benutzerdefinierte XAML-Namespace Zuordnung zu einer Assembly interpretiert, unterscheidet nicht zwischen einer vertrauenswürdigen und nicht vertrauenswürdigen Assembly, die in die Anwendungsdomäne geladen wurde.</span><span class="sxs-lookup"><span data-stu-id="b555c-126">The basic unqualified syntax and definition for how XAML interprets a custom XAML namespace mapping to an assembly does not distinguish between a trusted and untrusted assembly as loaded into the application domain.</span></span> <span data-ttu-id="b555c-127">Daher ist es für eine nicht vertrauenswürdige Assembly technisch möglich, eine beabsichtigte XAML-Namespace Zuordnung einer vertrauenswürdigen Assembly zu spolieren und das deklarierte Objekt und die Eigenschafts Informationen einer XAML-Quelle zu erfassen.</span><span class="sxs-lookup"><span data-stu-id="b555c-127">Thus, it is technically possible for an untrusted assembly to spoof a trusted assembly's intended XAML namespace mapping and capture a XAML source's declared object and property information.</span></span> <span data-ttu-id="b555c-128">Wenn Sie über Sicherheitsanforderungen verfügen, um diese Situation zu vermeiden, sollte die gewünschte XAML-Namespace Zuordnung mithilfe einer der folgenden Verfahren erfolgen:</span><span class="sxs-lookup"><span data-stu-id="b555c-128">If you have security requirements to avoid this situation, your intended XAML namespace mapping should be made using one of the following techniques:</span></span>

- <span data-ttu-id="b555c-129">Verwenden Sie einen voll qualifizierten Assemblynamen mit starkem Namen in jeder XAML-Namespace Zuordnung, die vom XAML-Code der Anwendung erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="b555c-129">Use a fully qualified assembly name with strong name in any XAML namespace mapping made by your application's XAML.</span></span>

- <span data-ttu-id="b555c-130">Beschränken Sie die assemblyzuordnung auf einen festgelegten Satz von Verweisassemblys, indem Sie eine bestimmte <xref:System.Xaml.XamlSchemaContext> für XAML-Reader und XAML-objektwriter erstellen</span><span class="sxs-lookup"><span data-stu-id="b555c-130">Restrict assembly mapping to a fixed set of reference assemblies, by constructing a specific <xref:System.Xaml.XamlSchemaContext> for your XAML readers and XAML object writers.</span></span> <span data-ttu-id="b555c-131">Siehe <xref:System.Xaml.XamlSchemaContext.%23ctor%28System.Collections.Generic.IEnumerable%7BSystem.Reflection.Assembly%7D%29>.</span><span class="sxs-lookup"><span data-stu-id="b555c-131">See <xref:System.Xaml.XamlSchemaContext.%23ctor%28System.Collections.Generic.IEnumerable%7BSystem.Reflection.Assembly%7D%29>.</span></span>

## <a name="xaml-type-mapping-and-type-system-access"></a><span data-ttu-id="b555c-132">XAML-Typzuordnung und typsystemzugriff</span><span class="sxs-lookup"><span data-stu-id="b555c-132">XAML Type Mapping and Type System Access</span></span>

<span data-ttu-id="b555c-133">XAML unterstützt ein eigenes Typsystem, das in vielerlei Hinsicht ein Peer ist, wie CLR das grundlegende CLR-Typsystem implementiert.</span><span class="sxs-lookup"><span data-stu-id="b555c-133">XAML supports its own type system, which in many ways is a peer to how CLR implements the basic CLR type system.</span></span> <span data-ttu-id="b555c-134">Für bestimmte Aspekte des typbewusstseins, bei denen Sie basierend auf den Typinformationen Vertrauens Entscheidungen über einen Typ treffen, sollten Sie jedoch die Typinformationen in den CLR-Unterstützungs Typen zurückstellen.</span><span class="sxs-lookup"><span data-stu-id="b555c-134">However, for certain aspects of type awareness where you are making trust decisions about a type based on its type information, you should defer to the type information in the CLR backing types.</span></span> <span data-ttu-id="b555c-135">Dies liegt daran, dass einige der spezifischen Berichterstattungs Funktionen des XAML-Typsystems als virtuelle Methoden offen bleiben und daher nicht vollständig unter der Steuerung der ursprünglichen .net XAML-Dienst Implementierungen liegen.</span><span class="sxs-lookup"><span data-stu-id="b555c-135">This is because some of the specific reporting capabilities of the XAML type system are left open as virtual methods and are therefore, not fully under the control of the original .NET XAML Services implementations.</span></span> <span data-ttu-id="b555c-136">Diese Erweiterbarkeits Punkte liegen vor, weil das XAML-Typsystem erweiterbar ist, um der Erweiterbarkeit von XAML selbst und den möglichen Alternativen Typmapping-Strategien gegenüber der standardmäßigen CLR-gestützten Implementierung und dem standardmäßigen XAML-Schema Kontext zu entsprechen.</span><span class="sxs-lookup"><span data-stu-id="b555c-136">These extensibility points exist because the XAML type system is extensible, to match the extensibility of XAML itself and its possible alternative type-mapping strategies versus the default CLR-backed implementation and default XAML schema context.</span></span> <span data-ttu-id="b555c-137">Weitere Informationen finden Sie in den spezifischen Hinweisen zu einigen Eigenschaften von <xref:System.Xaml.XamlType> und <xref:System.Xaml.XamlMember> .</span><span class="sxs-lookup"><span data-stu-id="b555c-137">For more information, see the specific notes on several of the properties of <xref:System.Xaml.XamlType> and <xref:System.Xaml.XamlMember>.</span></span>

## <a name="see-also"></a><span data-ttu-id="b555c-138">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="b555c-138">See also</span></span>

- <xref:System.Xaml.Permissions.XamlAccessLevel>
